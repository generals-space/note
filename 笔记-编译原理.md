# 笔记-编译原理

## <句柄> <直接短语> <短语> <素短语>的区分

每个句型对应一棵语法树 

句型: 每棵语法树的叶子结点从左到右排列构成一个句型

短语: 每棵语法树的子树的叶子结点从左到右排列构成一个短语(此语法树本身也可看作一棵特殊的子树, 即句型本身亦是它的一个短语)

直接短语: 每棵语法树的简单子树(只有父子两层结点)的叶子结点从左到右排列构成一个直接短语

句柄: 每棵语法树的最左简单子树(只有父子两层结点)的叶子结点从左到右排列构成句柄(即最左直接短语)

素短语: 素短语是至少包含一个终结符的短语，但它不能包含其它素短语

最左素短语: 处于句型最左边的素短语

例子1——语法树

S -> a | b | (T) 

T -> TdS | S 

Vt = {a, b, d, (, )}, Vn = {S, T}, S是开始符, 句型(Sd(T)db)是S的一个推导, 找出其中短语, 直接短语, 句柄, 最左素短语.

解析：


题目中的句型可用下面的语法树表示： 

           S 
        /  |   
     (     T     ) 
       /   |    
     T     d     S 
    /|          | 
   T  d  S       b 
   |      /| 
   S   (  T  )

一个句型的语法树中任一子树叶结点所组成的符号串都是该句型的短语，当子树中不包含其他更小的子树时，该子数叶结点所组成的字符串就是该句型的直接（简单）短语。 
因此本题的直接短语的为 S 、（T）、b，短语有S、（T）、b、Sd（T)、Sd（T）db 、（Sd（T）db）。

d不是直接短语,因为d所在的树还有子树所以它不是!

一个句型的最左直接短语汇称为该句型的句柄

素语是一个短语，它至少含有一个终结符，而且除它自身以外不再含有更少的素短语，对于句型（Sd（T）db）的素短语是（T）、b.

例子2——直接推导

已知文法G[S] S::=aB|bA
             A::=a|aS|bAA
             B::=aBB|bS|b
句型aabbAb的句柄是
A.a     B.ab
C.b     D.bA

解析：

句型aabbAb的句柄是D: bA; S->aB->aaBB->aabSB->aabbAB->aabbAb 按照最左推导，其中的S->bA这步是最后的直接推导（即它推出的bA不再被继续往下推导），虽然B->b也是这样的，但不是最左的。

## 自动机

1.从NFA到DFA，使用子集构造法，让得到的DFA的每个状态对应于原NFA的一个状态集合。

DFA在读入a1a2...an之后到达的状态，去对应原NFA从开始状态沿a1a2...an的路径所能到达的状态的集合。

2.从正则表达式到NFA

NFA中除接受状态外的第个状态要么有一条标号为输入符号集的成员的出边，要么有两条空边的出边