# Linux计算命令(一)bc

参考文章

1. [Linux下的计算器(bc、expr、dc、echo、awk)知多少？](http://blog.chinaunix.net/uid-24673811-id-1760837.html)

`bc`在默认的情况下是个交互式的命令, 不过可以通过管道直接返回计算结果. 在`bc`工作环境下, 可以使用以下计算符号: 

- `+`: 加法
- `-`: 减法 
- `*`: 乘法 
- `/`: 除法 
- `^`: 指数 
- `%`: 余数
- 数学函数: 开方(`sqrt`), 正弦(`s`), 余弦(`c`)...

注意: **`bc`命令的操作数与操作符之间不能有空格, 不然会出错 **

## 1. 交互示例

首先进入交互式命令行

```
$ bc
bc 1.06
Copyright 1991-1994, 1997, 1998, 2000 Free Software Foundation, Inc.
This is free software with ABSOLUTELY NO WARRANTY.
For details type `warranty'. 
...输入表达式
```

然后可以输出表达式了

```shell
## 单个表达式
(9+8)/2
8
## 多个表达式
1+2; 7^2; 9-7*2
3
49
-5
```

```shell
## `scale`设置小数位
scale=3         
(9+8)/2
(9+8)/3
5.666
```

```shell
## `ibase`指定输入数据的进制(默认为10)
## `obase`指定输出数据的进制(默认为10)
ibase=16
16+12
40
## 将输入数据依然以十进制对待
ibase=10
obase=2
2*5
1010

## 数学函数, 可用的比较少. 使用数学函数时默认自动将精度设置为20
## 计算π值
4*a(1)
3.14159265358979323844
## 开平方
sqrt(100)
10.00000000000000000000
```

## 2. 命令行示例

```
$ echo '12+23' | bc
35
$ echo '12+23; 6^3;' | bc
35
216

## 精确位数(只对当前行有效)
$ echo 'scale=3; (87+2)/9' | bc
9.888

## 进制转换
$ echo 'obase=2; 10' | bc
1010
```

## 3. 计算文件中的表达式

```
$ cat calc.txt 
3+2
4+5
8*2
10/4

$ bc calc.txt 
5
9
16
2
```
