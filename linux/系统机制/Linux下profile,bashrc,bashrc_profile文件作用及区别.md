# Linux下profile,bashrc,bashrc_profile文件作用及区别

参考文章

1. [Linux 中/etc/profile、~/.bash_profile 等几个环境配置文件的执行过程](http://www.cnblogs.com/xmkk/p/3582336.html?utm_source=tuicool&utm_medium=referral)

`/etc/profile`, `~/.bashrc`等的内容可以看作普通的shell脚本, 格式相同, 只是生效时机(或者说执行时机)不一样.

## 1. `~/.bashrc`

对当前用户有效, 每登陆一次新终端, 或是`su`切换用户时首先自动执行一次. 可以用来设置环境变量(`export key=value`), 定义命令别名(`alias`), 函数(`function(){}`)等.

由于每开启一个终端(以当前用户身份)都会默认执行一遍这个文件中的命令, 所以启动进程这种操作并不适用于写到这个文件里(进程已启动时可能会有冲突).

另外, 它的生效时机是 **用户登陆**, 所以如果没有终端连接时不会生效, 开机启动项不应该设置在这里.

需要在当前终端生效的, 使用`source ~/.bashrc`命令.

## 2. `/etc/profile`

对所有用户有效, 需要使用root用户编辑. 使用方法及内容都和`~/.bashrc`相同, 只是生效时机不一样.

在远程终端中比较顺利, 以root用户编辑`/etc/profile`文件后, 新建ssh连接, 任何其他用户都将得到其中的配置;

而在当前终端中没有加载此文件时, 配置是不生效的, 使用`su`切换身份, 目标用户也不会得到新配置, 需要使用`su - 目标用户名`才可以, 而`exit`退出当前用户回到root后, 配置文件依然不生效.

若要是想在当前终端中获取配置信息, 需要执行`source /etc/profile`.

而在本地时, root用户编辑`/etc/profile`文件, 在当前终端并不立刻加载. 任何新建终端与`su`切换用户的操作, 新配置都不会生效.

原因应该是本地新建终端并不算是一个完整的登陆操作吧. 只能`log out`再登陆. 另外, `su - 目标用户名`是可以使新配置生效的.

## 3. `/etc/rc.local`

开机启动配置文件
