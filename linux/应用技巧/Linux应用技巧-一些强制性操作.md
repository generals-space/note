# Linux应用技巧-一些强制性操作

这些方法一般用于脚本中, 以防止脚本执行被打断. 在实际系统中并不建议直接使用强制手段.

## 1. 强制复制

```shell
cp -f 源文件 目标文件
```

`-r`选项可以用于复制目录. **`scp`命令也是如此**.

`-f --force`选项如果表示目标文件已存在, 先将其删除再重新复制一次, 如果没有这个选项, 将会提示你是否确定要覆盖目标文件.

> PS: 有的时候即使使用了`-f`选项, 也依然会得到提示, 无法直接覆盖, 为什么?

> 这有可能是因为系统默认对`cp`命令使用了别名`alias cp='cp -i'`, `-i`选项将禁止覆盖目标文件. 直接使用`alias`查看当前所有的别名.

> 解决方法是使用`\cp -f 源文件 目标文件`, 使用`\cp`复制时不走`alias`;

> 另外, 也可以使用`unalias cp; cp -f 源文件 目标文件`, 这是临时取消`cp`的`alias`(不过这个方法可以影响整个终端, 感觉有点风险).

## 2. 强制删除

```shell
rm -rf 目标文件/目录
```

`-r`选项可用于删除目录;

`-f`选项可以防止删除原来不存在的目标文件/目录时命令中止的情况.

## 3. 强制创建目录

```shell
mkdir -p /tmp/first/second
```

`-p`命令可以防止当创建一个目录, 而你指定的它的父目录也不存在时的错误情况. 它会在创建指定的目录之前, 将所需要的父目录创建出来.
