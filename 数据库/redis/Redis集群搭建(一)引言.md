# redis集群搭建

redis官网上提供了在同一台机器上搭建3主3备的redis集群示例, 其他大部分的博客中都是按照这样的结构实验的. 但实际应用中redis节点不可能全部部署在同一台机器上, 不然怎么还有高可用性与高扩展性可言? 本文档参考redis官网提供的工具和命令, 在3台不同机器上部署redis集群及主备架构, 仅作为笔记.

## 环境准备

- 操作系统: CentOS release 6.7
- redis: 3.0.7

redis的主从复制集群搭建十分方便, 可以轻松实现从节点`只读`且`保持与主节点的数据同步`的要求. 只需要启动`master`, `slave`两个独立的redis服务, 然后通过在`slave`的`cli`中执行`slaveof master的IP master的端口`即可完成. 一个主节点可以有多个从节点, 即主节点数据可以存在多个备份.

不过, 从高可用与负载均衡的角度, 这样的配置还是不够可靠. 因为这种情况下, 只有主节点对外服务, 从节点只是充当一个备份的角色. 一旦主节点死掉, 除了数据可以保证不丢失, 整个redis环境都相当于失效. 而数据备份的工作完全可以由redis本身的数据持久化策略完成, 不需要复杂的主从配置. 所以主从节点的架构单纯在这种情况下是没有意义的, 而是有着其他的应用场景.
