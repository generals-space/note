# Python-gc调优

参考文章

1. [Python内存管理机制及优化简析](http://kkpattern.github.io/2015/06/20/python-memory-optimization-zh.html)

参考文章1给出了3种避免因垃圾回收导致程序的卡顿的调优手段

## 1. 手动垃圾回收

对Python的垃圾回收进行调优的一个最简单的手段便是关闭自动回收, 根据情况手动触发. 例如在用Python开发游戏时, 可以在一局游戏的开始关闭GC, 然后在该局游戏结束后手动调用一次GC清理内存, 这样能完全避免在游戏过程中因GC造成卡顿. 但是缺点是在游戏过程中可能因为内存溢出导致游戏崩溃.

...没做过游戏, 起码目前我没见过手动进行垃圾回收的工程项目.

## 2. 调整垃圾回收阈值

## 3. 避免循环引用

`gc`的一个重要用途就是清理因为代码中出现循环引用导致常规的引用计数不能清除的对象, 要减少`gc`的出现当然可以通过减少代码中的循环引用来完成.

### 手动解循环引用

这个操作有点傻, 出现了循环引用需要手动释放...还不如教我怎么查询哪里出现了循环引用呢...

### 弱引用

使用python自带的`weakref`库