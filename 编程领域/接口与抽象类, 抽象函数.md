# Python-接口与抽象类

参考文章

1. [Python（面向对象编程——2 继承、派生、组合、抽象类）](https://www.cnblogs.com/zihe/p/7111092.html)
2. [接口和抽象类有什么区别？](https://www.zhihu.com/question/20149818)
3. [抽象类和接口最核心的区别是什么？（用12个字概括）](https://www.zhihu.com/question/28887491)

## 1. 概念

### 1.1 接口

在讲接口前, 先来说说继承.

继承有两种用途：

1. 继承基类的方法, 并且做出自己的改变或者扩展（代码重用）
2. 声明某个子类兼容于某基类, 定义一个接口类Interface, 接口类中定义了一些接口名（就是函数名）且并未实现接口的功能, 子类继承接口类, 并且实现接口中的功能.

第一种继承方式在实践中经常出现, 而第二种继承则不太常见. 第二种继承又叫做"接口继承". 所以, **接口**

------

接口提取了一组类共同的功能, 可以把接口当做一个函数的集合. 然后让子类去实现接口中的函数. 

这么做的意义在于 **归一化**, 什么叫归一化, 就是只要是基于同一个接口实现的类, 那么所有的这些类产生的对象在使用时, 从用法上来说都一样. 

归一化, 让使用者无需关心对象的类是什么, 只需要的知道这些对象都具备某些功能就可以了, 这极大地降低了使用者的使用难度. 

就好象linux的泛文件概念一样, 所有东西都可以当文件处理, 不必关心它是内存、磁盘、网络还是屏幕, 这是因为它们都实现了**读**与**写**的功能, 而这两个功能属于**文件接口**.（当然, 对底层设计者, 当然也可以区分出“字符设备”和“块设备”, 然后做出针对性的设计：细致到什么程度, 视需求而定）

### 1.2 抽象类与抽象函数

抽象类是一个特殊的类, 它的特殊之处在于 **只能被继承, 不能被实例化.**

> 其实与抽象相对的, 是 **具像**, 一个标准类实例化的过程, 其实就是具象化的过程, 而抽象类不具备具象成一个完整对象的能力.

从设计角度去看, 如果类是从现实对象抽象而来的, 那么抽象类就是基于类抽象而来的. 

从实现角度来看, 抽象类与普通类的不同之处在于：抽象类中只能有抽象方法（没有实现功能）, 该类不能被实例化, 只能被继承, 且子类必须实现抽象方法. 这一点与接口有点类似, 但其实是不同的, 即将揭晓答案.

抽象函数：只有函数的定义, 没有函数体的函数. (就是抽象类里的方法啦, 不过抽象类里可能没有抽象函数.)

## 2. 区别

关于接口与抽象类的区别, 很模糊, 参考文章2中也没几个讲清楚的.

先来一点, 由于抽象类中可以定义非抽象方法, 并且定义方法的实现, 所以它的抽象程度就不如接口高. 

抽象级别（从高到低）：接口>抽象类>实现类. 

可以说**抽象类就介于接口与普通类的一种事物**. (甚至有人说 **接口是最纯粹的抽象类** )

------

我们都知道, 两者都是抽象层, 都不能被实例化, 都包含抽象的方法, 由子类实现.

而它们之间的区别在于两点

1. 接口是对行为的抽象, 而抽象类是对一组类对象共通点的抽象.
2. 接口是自上往下抽象的设计, 抽象类是自下往上抽象的设计.

关于第一点. 以 **动物** 这个抽象类为例. 猫, 鸟, 鱼都是动物, 自然可以认为是子类的实现, 把 **呼吸** 这个属性定义到抽象类中, 由子类必须实现是最合适不的了. 

但是鸟和飞机都能飞, 它们两个能算是同类吗? 当然不算, 所以 **飞** 这个行为最好作为接口类型出现.

但是, **呼吸** 也可以被定义成接口, 作为动物必须实现这个接口, 而 **飞** 这个动作也可以被划分到名为 **飞行者** 的抽象类中作为属性. 这些并不是固定的, 还是要看开发者对对象如何把控.

借用参考文章3中的回答:

> 抽象类是从子类中发现 **公共部分**, 然后泛化成抽象类, 子类继承该父类即可.

> 但是接口不同. 实现它的子类可以不存在任何关系, 共同之处. 例如猫、狗可以抽象成一个动物类抽象类, 具备叫的方法. 鸟、飞机可以实现飞Fly接口, 具备飞的行为, 这里我们总不能将鸟、飞机共用一个父类吧! 

> 所以说抽象类所体现的是一种继承关系, 要想使得继承关系合理, 父类和派生类之间必须存在"is-a" 关系, 即父类和派生类在概念本质上应该是相同的. 对于接口则不然, 并不要求接口的实现者和接口定义在概念本质上是一致的,  仅仅是实现了接口定义的规则而已. 

至于第二点, 在实践中才最能体现.

设计抽象类是自下而上的过程, 我多个子类都共同需要, 所以我定义抽象类, 来简化我的代码.

设计接口是自上而下的过程, 我接口规范某一行为, 我某类需要这个行为, 我实现某接口; 
