# 平衡树构造与旋转.2.复杂情况

参考文章

1. [平衡二叉树](https://blog.csdn.net/isunbin/article/details/81707606)
    - 平衡二叉树(AVL树)的成型条件, 与非平衡二叉树的对比.
    - 图解, 非常详细.
    - 构造平衡二叉树与删除树节点的C语言代码示例(前序遍历), 分为LL, RR, LR, RL四种调整类型.
    - 平衡因子: 将二叉树上节点的左子树高度减去右子树高度的值称为该节点的平衡因子BF(Balance Factor)
    - 最小不平衡子树: 距离插入节点最近的, 且平衡因子的绝对值大于1的节点为根的子树(其实就是发生不平衡处的子树).

这里讲解一下比较复杂的`LR`/`RL`旋转示例, 仍然取自参考文章1.

## LR

插入顺序: [9, 5, 10, 0, 6, 11, -1, 1, 2]

在插入最后一个节点2时, 树将变成如下形态.

```
             9
           /   \
          5     10
        /   \      \
       0     6      11
     /   \    
    -1    1   
            \ 
             2
```

其中节点5的左子树高度为3, 而右子树高度为1, 相差超过1. 需要调整的是`5 -> 0 -> 1`这一部分.

```
    LR(节点5)    RR(节点1)                    LL(节点5)
      5          =>              5           =>             1
    /   \                      /   \                      /   \
   0     6                    1     6                    0     5
 /   \                      /   \                      /     /   \
-1    1                    0     2                    -1    2     6
        \                /                                  
         2              -1                                  
```
