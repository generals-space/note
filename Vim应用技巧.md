# Vim 应用技巧

## 1. 变量设置详解

### 1.1 取消自动注释

参考

[vi换行自动注释](http://bbs.csdn.net/topics/320134361)

copy代码到vim中时, 如果某一行使用了注释, 那其之后的所有行都被自动添加了注释.

解决办法:

`set formatoptions=ql`, 然后再copy到vim中, 就不会出现这种情况了.

如果要写到`.vimrc`文件中, 除了这句以外, 还需要再加上`set paste`, 否则不生效.

### 1.2 防止粘贴到vim中换行混乱

以如下代码为例

```html
<!DOCTYPE>
<html>
        <head>
        </head>

        <body>
        </body>
</html>
```

在开启了`autoindent`选项的vim中(开启`autoindent`会在编辑模式中自动缩进)粘贴存在缩进的代码会变的很混乱.

```
<!DOCTYPE>
<html>
        <head>
                </head>

                        <body>
                                </body>
                                </html>
```

原因是在vim中没有相应的程序来处理这个从其他应用复制粘贴的过程，所以vim通过插入键盘输入的buffer来模拟这个粘贴的过程，这个时候vim仍然以为这是用户输入的。

问题就是出在这：**当上一行结束，光标进入下一行时Vim会自动以上一行的的缩进为初始位置。这样就会破坏原始文件的缩进**。

解释方法就是, 开启vim的"粘贴"模式, 将拷贝的代码原样粘贴.

在vim中执行`set paste`. 然后在进入编辑模式时, 会看到vim左下角的标记为`-- INSERT (paste) --`, 此时执行粘贴操作就不会再出现换行混乱的情况.

粘贴完毕后需要再执行`set nopaste`, 不然自动缩进选项就无效了.

## 2. 快捷键应用及配置

### 2.1 多行缩进